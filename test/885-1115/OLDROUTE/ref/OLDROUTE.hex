10 :REM  OLDROUTE.BAS\tNAVPROGseven Route Retrieval Program        08-Jan-81
E7 73 0A 00 3A 8F DB 20 4F 4C 44 52 4F 55 54 45 2E 42 41 53 09 4E 41 56 50 52 4F 47 73 65 76 65 6E 20 52 6F 75 74 65 20 52 65 74 72 69 65 76 61 6C 20 50 72 6F 67 72 61 6D 20 20 20 20 20 20 20 20 30 38 2D 4A 61 6E 2D 38 31 00

20 :REM 
EF 73 14 00 3A 8F DB 00

30 :REM  Developed by\tAlan Bose   (AOPA 642188)
1E 74 1E 00 3A 8F DB 20 44 65 76 65 6C 6F 70 65 64 20 62 79 09 41 6C 61 6E 20 42 6F 73 65 20 20 20 28 41 4F 50 41 20 36 34 32 31 38 38 29 00

40 :REM \t\t\tVice President, Taildragger Flyers
4B 74 28 00 3A 8F DB 09 09 09 56 69 63 65 20 50 72 65 73 69 64 65 6E 74 2C 20 54 61 69 6C 64 72 61 67 67 65 72 20 46 6C 79 65 72 73 00

50 :REM \t\t\tRoss Field, Benton Harbor, MI
73 74 32 00 3A 8F DB 09 09 09 52 6F 73 73 20 46 69 65 6C 64 2C 20 42 65 6E 74 6F 6E 20 48 61 72 62 6F 72 2C 20 4D 49 00

60 :REM 
7B 74 3C 00 3A 8F DB 00

70 CLEAR 3000:WIDTH 255:ON ERROR GOTO 790
94 74 46 00 92 20 1C B8 0B 3A A1 20 0F FF 3A 95 20 A8 20 89 20 0E 16 03 00

80 BL$=CHR$(0x18):E$=CHR$(27):ER$=E$+"E":PG$=E$+"p":QG$=E$+"q":Y$=E$+"Y": \n   L$=E$+"l":J$=E$+"j":K$=E$+"k":J1$=E$+"J"
05 75 50 00 42 4C 24 F0 FF 96 28 18 29 3A 45 24 F0 FF 96 28 0F 1B 29 3A 45 52 24 F0 45 24 F2 22 45 22 3A 50 47 24 F0 45 24 F2 22 70 22 3A 51 47 24 F0 45 24 F2 22 71 22 3A 59 24 F0 45 24 F2 22 59 22 3A 20 0A 20 20 20 4C 24 F0 45 24 F2 22 6C 22 3A 4A 24 F0 45 24 F2 22 6A 22 3A 4B 24 F0 45 24 F2 22 6B 22 3A 4A 31 24 F0 45 24 F2 22 4A 22 00

90 DEF FN C$(C1,C2)=Y$+CHR$(C1+31)+CHR$(C2+31)
2E 75 5A 00 98 20 D3 20 43 24 28 43 31 2C 43 32 29 F0 59 24 F2 FF 96 28 43 31 F2 0F 1F 29 F2 FF 96 28 43 32 F2 0F 1F 29 00

100 FOR I=8383 TO 8391:D1$=D1$+CHR$(PEEK(I)):NEXT I
56 75 64 00 82 20 49 F0 1C BF 20 20 CE 20 1C C7 20 3A 44 31 24 F0 44 31 24 F2 FF 96 28 FF 97 28 49 29 29 3A 83 20 49 00

110 HD$="N A V P R O G s e v e n   R O U T E   R E T R I E V A L"
98 75 6E 00 48 44 24 F0 22 4E 20 41 20 56 20 50 20 52 20 4F 20 47 20 73 20 65 20 76 20 65 20 6E 20 20 20 52 20 4F 20 55 20 54 20 45 20 20 20 52 20 45 20 54 20 52 20 49 20 45 20 56 20 41 20 4C 22 00

120 PRINT PG$;ER$
A6 75 78 00 91 20 50 47 24 3B 45 52 24 00

130 PRINT TAB(40-(LEN(HD$)/0x13));HD$;TAB(79);QG$
CA 75 82 00 91 20 D0 0F 28 F3 28 FF 92 28 48 44 24 29 F5 13 29 29 3B 48 44 24 3B D0 0F 4F 29 3B 51 47 24 00

140 PRINT:PRINT"Routes on file: ";
E5 75 8C 00 91 3A 91 22 52 6F 75 74 65 73 20 6F 6E 20 66 69 6C 65 3A 20 22 3B 00

150 :REM 
ED 75 96 00 3A 8F DB 00

160 OPEN"I",0x12,"SY1:ROUTINGS.DAT"
0B 76 A0 00 BF 22 49 22 2C 12 2C 22 53 59 31 3A 52 4F 55 54 49 4E 47 53 2E 44 41 54 22 00

170 INPUT #0x12,M
16 76 AA 00 85 20 23 12 2C 4D 00

180 DIM RT$(M+18)
25 76 B4 00 86 20 52 54 24 28 4D F2 12 29 00

190 FOR J=0x12 TO M:LINE INPUT #0x12,RT$(J)
41 76 BE 00 82 20 4A F0 12 20 CE 20 4D 3A B1 20 85 20 23 12 2C 52 54 24 28 4A 29 00

200 NEXT J:CLOSE
4B 76 C8 00 83 20 4A 3A C3 00

210 FOR J=0x12 TO M
59 76 D2 00 82 20 4A F0 12 20 CE 20 4D 00

220 CO=((JMOD16)*20)+0x12:RO=(J [FC] 16)+0x16
7C 76 DC 00 43 4F F0 28 28 4A FD 0F 10 29 F4 0F 14 29 F2 12 3A 52 4F F0 28 4A 20 FC 20 0F 10 29 F2 16 00

230 PRINT FNC$(RO,CO);J;FNC$(RO,CO+0x16);"-  ";LEFT$(RT$(J),0x14);" to ";RIGHT$(RT$(J),0x14)
C3 76 E6 00 91 20 D3 43 24 28 52 4F 2C 43 4F 29 3B 4A 3B D3 43 24 28 52 4F 2C 43 4F F2 16 29 3B 22 2D 20 20 22 3B FF 81 28 52 54 24 28 4A 29 2C 14 29 3B 22 20 74 6F 20 22 3B FF 82 28 52 54 24 28 4A 29 2C 14 29 00

240 NEXT J
CB 76 F0 00 83 20 4A 00

250 :REM 
D3 76 FA 00 3A 8F DB 00

260 PRINT FNC$(22,0x12);J1$;"Enter selection  <MENU>  ";J$;STRING$(0x13,95)
0E 77 04 01 91 20 D3 43 24 28 0F 16 2C 12 29 3B 4A 31 24 3B 22 45 6E 74 65 72 20 73 65 6C 65 63 74 69 6F 6E 20 20 3C 4D 45 4E 55 3E 20 20 22 3B 4A 24 3B D8 28 13 2C 0F 5F 29 00

270 PRINT:PRINT"Enter `D' for delete mode    Enter `P' for printout";:PRINT K$;
52 77 0E 01 91 3A 91 22 45 6E 74 65 72 20 60 44 27 20 66 6F 72 20 64 65 6C 65 74 65 20 6D 6F 64 65 20 20 20 20 45 6E 74 65 72 20 60 50 27 20 66 6F 72 20 70 72 69 6E 74 6F 75 74 22 3B 3A 91 20 4B 24 3B 00

280 LINE INPUT X$:IF X$="" THEN CLOSE:LOAD"MENU",R
73 77 18 01 B1 20 85 20 58 24 3A 8B 20 58 24 F0 22 22 20 CF 20 C3 3A C4 22 4D 45 4E 55 22 2C 52 00

290 IF X$="D" OR X$="d" THEN 850
8F 77 22 01 8B 20 58 24 F0 22 44 22 20 F8 20 58 24 F0 22 64 22 20 CF 20 0E 52 03 00

300 IF X$="P" OR X$="p" THEN 390
AB 77 2C 01 8B 20 58 24 F0 22 50 22 20 F8 20 58 24 F0 22 70 22 20 CF 20 0E 86 01 00

310 X=VAL(X$):IF X>M OR X<0x12 THEN PRINT BL$:GOTO260
D1 77 36 01 58 F0 FF 94 28 58 24 29 3A 8B 20 58 EF 4D 20 F8 20 58 F1 12 20 CF 20 91 20 42 4C 24 3A 89 0E 04 01 00

320 RT$=RT$(X):IF ASC(RT$)<65 OR ASC(RT$)>90 THEN RT$="X"+RT$
08 78 40 01 52 54 24 F0 52 54 24 28 58 29 3A 8B 20 FF 95 28 52 54 24 29 F1 0F 41 20 F8 20 FF 95 28 52 54 24 29 EF 0F 5A 20 CF 20 52 54 24 F0 22 58 22 F2 52 54 24 00

330 F$="SY1:"+RT$
1A 78 4A 01 46 24 F0 22 53 59 31 3A 22 F2 52 54 24 00

340 GOSUB650
23 78 54 01 8D 0E 8A 02 00

350 F$="SY1:FLIGHT.SEQ"
3B 78 5E 01 46 24 F0 22 53 59 31 3A 46 4C 49 47 48 54 2E 53 45 51 22 00

360 GOSUB730
44 78 68 01 8D 0E DA 02 00

370 PRINT ER$;"Standby one...":LOAD"NAVPROG7",R
6D 78 72 01 91 20 45 52 24 3B 22 53 74 61 6E 64 62 79 20 6F 6E 65 2E 2E 2E 22 3A C4 22 4E 41 56 50 52 4F 47 37 22 2C 52 00

380 :REM 
75 78 7C 01 3A 8F DB 00

390 OPEN"O",0x13,"LP:"
86 78 86 01 BF 22 4F 22 2C 13 2C 22 4C 50 3A 22 00

400 PRINT#0x13,"Air routes currently on file";TAB(60);D1$:PRINT#0x13,
BB 78 90 01 91 23 13 2C 22 41 69 72 20 72 6F 75 74 65 73 20 63 75 72 72 65 6E 74 6C 79 20 6F 6E 20 66 69 6C 65 22 3B D0 0F 3C 29 3B 44 31 24 3A 91 23 13 2C 00

410 FOR I=0x12 TO M
C9 78 9A 01 82 20 49 F0 12 20 CE 20 4D 00

420 RT$=RT$(I):IF ASC(RT$)<65 OR ASC(RT$)>90 THEN RT$="X"+RT$
00 79 A4 01 52 54 24 F0 52 54 24 28 49 29 3A 8B 20 FF 95 28 52 54 24 29 F1 0F 41 20 F8 20 FF 95 28 52 54 24 29 EF 0F 5A 20 CF 20 52 54 24 F0 22 58 22 F2 52 54 24 00

430 F$="SY1:"+RT$
12 79 AE 01 46 24 F0 22 53 59 31 3A 22 F2 52 54 24 00

440 GOSUB650:PRINT#0x13,I;TAB(0x15);
26 79 B8 01 8D 0E 8A 02 3A 91 23 13 2C 49 3B D0 15 29 3B 00

450 FOR K=0x12 TO N:SP=INSTR(I$(K)," "):IF SP=0x11 THEN SP=0x17
52 79 C2 01 82 20 4B F0 12 20 CE 20 4E 3A 53 50 F0 DA 28 49 24 28 4B 29 2C 22 20 22 29 3A 8B 20 53 50 F0 11 20 CF 20 53 50 F0 17 00

460 PRINT#0x13,LEFT$(I$(K),SP-0x12);
6A 79 CC 01 91 23 13 2C FF 81 28 49 24 28 4B 29 2C 53 50 F3 12 29 3B 00

470 IF K=N THEN PRINT#0x13, :ELSE PRINT#0x13," -> ";
8A 79 D6 01 8B 20 4B F0 4E 20 CF 20 91 23 13 2C 20 3A A2 20 91 23 13 2C 22 20 2D 3E 20 22 3B 00

480 NEXT K:NEXT I
96 79 E0 01 83 20 4B 3A 83 20 49 00

490 OPEN"I",0x14,"SY1:RNAVLIST.DAT"
B4 79 EA 01 BF 22 49 22 2C 14 2C 22 53 59 31 3A 52 4E 41 56 4C 49 53 54 2E 44 41 54 22 00

500 INPUT#0x14,KY
BF 79 F4 01 85 23 14 2C 4B 59 00

510 DIM LI$(KY),R1$(KY),R1(KY),R2$(KY),R2(KY)
EB 79 FE 01 86 20 4C 49 24 28 4B 59 29 2C 52 31 24 28 4B 59 29 2C 52 31 28 4B 59 29 2C 52 32 24 28 4B 59 29 2C 52 32 28 4B 59 29 00

520 FOR J=0x12 TO KY:LINE INPUT#0x14,LI$(J)
07 7A 08 02 82 20 4A F0 12 20 CE 20 4B 59 3A B1 20 85 23 14 2C 4C 49 24 28 4A 29 00

530 LINE INPUT#0x14,R1$(J)
18 7A 12 02 B1 20 85 23 14 2C 52 31 24 28 4A 29 00

540 INPUT#0x14,R1(J)
26 7A 1C 02 85 23 14 2C 52 31 28 4A 29 00

550 LINE INPUT#0x14,R2$(J)
37 7A 26 02 B1 20 85 23 14 2C 52 32 24 28 4A 29 00

560 INPUT#0x14,R2(J)
45 7A 30 02 85 23 14 2C 52 32 28 4A 29 00

570 NEXT J:CLOSE#0x14
51 7A 3A 02 83 20 4A 3A C3 23 14 00

580 PRINT#0x13,:PRINT#0x13,:PRINT#0x13,"RNAV cross-references on file:":PRINT#0x13,
89 7A 44 02 91 23 13 2C 3A 91 23 13 2C 3A 91 23 13 2C 22 52 4E 41 56 20 63 72 6F 73 73 2D 72 65 66 65 72 65 6E 63 65 73 20 6F 6E 20 66 69 6C 65 3A 22 3A 91 23 13 2C 00

590 FOR J=0x12 TO KY:PRINT#0x13,"    ";LI$(J);" <-- ";
B3 7A 4E 02 82 20 4A F0 12 20 CE 20 4B 59 3A 91 23 13 2C 22 20 20 20 20 22 3B 4C 49 24 28 4A 29 3B 22 20 3C 2D 2D 20 22 3B 00

600 NV=0x12:IF R1$(J)<>"" THEN PRINT#0x13,"NAV";NV;"= ";R1$(J);"  ";:NV=0x13
EF 7A 58 02 4E 56 F0 12 3A 8B 20 52 31 24 28 4A 29 F1 EF 22 22 20 CF 20 91 23 13 2C 22 4E 41 56 22 3B 4E 56 3B 22 3D 20 22 3B 52 31 24 28 4A 29 3B 22 20 20 22 3B 3A 4E 56 F0 13 00

610 IF R2$(J)<>"" THEN PRINT#0x13,"NAV";NV;"= ";R2$(J) :ELSE PRINT#0x13,
23 7B 62 02 8B 20 52 32 24 28 4A 29 F1 EF 22 22 20 CF 20 91 23 13 2C 22 4E 41 56 22 3B 4E 56 3B 22 3D 20 22 3B 52 32 24 28 4A 29 20 3A A2 20 91 23 13 2C 00

620 NEXT J
2B 7B 6C 02 83 20 4A 00

625 ERASE LI$,R1$,R1,R2$,R2
43 7B 71 02 A6 20 4C 49 24 2C 52 31 24 2C 52 31 2C 52 32 24 2C 52 32 00

630 CLOSE#0x13:GOTO260
50 7B 76 02 C3 23 13 3A 89 0E 04 01 00

640 :REM 
58 7B 80 02 3A 8F DB 00

650 OPEN "I",0x12,F$
67 7B 8A 02 BF 20 22 49 22 2C 12 2C 46 24 00

660 FOR J=0x12 TO 10
76 7B 94 02 82 20 4A F0 12 20 CE 20 0F 0A 00

670 LINE INPUT#0x12,I$(J)
86 7B 9E 02 B1 20 85 23 12 2C 49 24 28 4A 29 00

680 INPUT #0x12,REF(J)
96 7B A8 02 85 20 23 12 2C 52 45 46 28 4A 29 00

690 N=J
9E 7B B2 02 4E F0 4A 00

700 NEXT J:CLOSE#0x12
AA 7B BC 02 83 20 4A 3A C3 23 12 00

710 RETURN
B0 7B C6 02 8E 00

720 :REM 
B8 7B D0 02 3A 8F DB 00

730 OPEN"O",0x12,F$
C6 7B DA 02 BF 22 4F 22 2C 12 2C 46 24 00

740 FOR J=0x12 TO N
D4 7B E4 02 82 20 4A F0 12 20 CE 20 4E 00

750 PRINT#0x12,I$(J)
E2 7B EE 02 91 23 12 2C 49 24 28 4A 29 00

760 PRINT #0x12,REF(J)
F2 7B F8 02 91 20 23 12 2C 52 45 46 28 4A 29 00

770 NEXT J:CLOSE#0x12
FE 7B 02 03 83 20 4A 3A C3 23 12 00

780 RETURN
04 7C 0C 03 8E 00

790 :REM error trap
16 7C 16 03 3A 8F DB 65 72 72 6F 72 20 74 72 61 70 00

800 IF ERR=53 AND ERL=160 THEN PRINT"None":PRINT: \n    PRINT"Hit <RETURN> to continue...";:X$=INPUT$(0x12):PRINT ER$:LOAD"MENU",R
74 7C 20 03 8B 20 D7 F0 0F 35 20 F7 20 D6 F0 0E A0 00 20 CF 20 91 22 4E 6F 6E 65 22 3A 91 3A 20 0A 20 20 20 20 91 22 48 69 74 20 3C 52 45 54 55 52 4E 3E 20 74 6F 20 63 6F 6E 74 69 6E 75 65 2E 2E 2E 22 3B 3A 58 24 F0 85 24 28 12 29 3A 91 20 45 52 24 3A C4 22 4D 45 4E 55 22 2C 52 00

810 IF ERR=63 AND ERL=670 THEN N=J-0x12:J=11:RESUME 700
9A 7C 2A 03 8B 20 D7 F0 0F 3F 20 F7 20 D6 F0 0E 9E 02 20 CF 20 4E F0 4A F3 12 3A 4A F0 0F 0B 3A A9 20 0E BC 02 00

820 IF ERR=53 AND ERL=490 THEN RESUME 630
B5 7C 34 03 8B 20 D7 F0 0F 35 20 F7 20 D6 F0 0E EA 01 20 CF 20 A9 20 0E 76 02 00

830 IF ERR=53 AND ERL=900 THEN RESUME 910
D0 7C 3E 03 8B 20 D7 F0 0F 35 20 F7 20 D6 F0 0E 84 03 20 CF 20 A9 20 0E 8E 03 00

840 ON ERROR GOTO 0
DE 7C 48 03 95 20 A8 20 89 20 0E 00 00 00

850 :REM delete
EC 7C 52 03 3A 8F DB 64 65 6C 65 74 65 00

860 PRINT FNC$(22,0x12);J1$;"Delete which route?  <EXIT>  ";J$; \n     STRING$(0x13,95);K$;
36 7D 5C 03 91 20 D3 43 24 28 0F 16 2C 12 29 3B 4A 31 24 3B 22 44 65 6C 65 74 65 20 77 68 69 63 68 20 72 6F 75 74 65 3F 20 20 3C 45 58 49 54 3E 20 20 22 3B 4A 24 3B 20 0A 20 20 20 20 20 D8 28 13 2C 0F 5F 29 3B 4B 24 3B 00

870 LINE INPUT X$:IF X$="" THEN 260
4F 7D 66 03 B1 20 85 20 58 24 3A 8B 20 58 24 F0 22 22 20 CF 20 0E 04 01 00

880 X=VAL(X$):IF X>M OR X<=0x11 THEN PRINT BL$:GOTO860
76 7D 70 03 58 F0 FF 94 28 58 24 29 3A 8B 20 58 EF 4D 20 F8 20 58 F1 F0 11 20 CF 20 91 20 42 4C 24 3A 89 0E 5C 03 00

890 RT$=RT$(X):IF ASC(RT$)<65 OR ASC(RT$)>90 THEN RT$="X"+RT$
AD 7D 7A 03 52 54 24 F0 52 54 24 28 58 29 3A 8B 20 FF 95 28 52 54 24 29 F1 0F 41 20 F8 20 FF 95 28 52 54 24 29 EF 0F 5A 20 CF 20 52 54 24 F0 22 58 22 F2 52 54 24 00

900 KILL"SY1:"+RT$
BD 7D 84 03 C8 22 53 59 31 3A 22 F2 52 54 24 00

910 IF M=0x12 THEN KILL"SY1:ROUTINGS.DAT":GOTO 10
E3 7D 8E 03 8B 20 4D F0 12 20 CF 20 C8 22 53 59 31 3A 52 4F 55 54 49 4E 47 53 2E 44 41 54 22 3A 89 20 0E 0A 00 00

920 IF X<>M THEN FOR J=X+0x12 TO M:RT$(J-0x12)=RT$(J):NEXT J
10 7E 98 03 8B 20 58 F1 EF 4D 20 CF 20 82 20 4A F0 58 F2 12 20 CE 20 4D 3A 52 54 24 28 4A F3 12 29 F0 52 54 24 28 4A 29 3A 83 20 4A 00

930 RT$(M)="":M=M-0x12
24 7E A2 03 52 54 24 28 4D 29 F0 22 22 3A 4D F0 4D F3 12 00

940 OPEN"O",0x12,"SY1:ROUTINGS.DAT"
42 7E AC 03 BF 22 4F 22 2C 12 2C 22 53 59 31 3A 52 4F 55 54 49 4E 47 53 2E 44 41 54 22 00

950 PRINT #0x12,M
4D 7E B6 03 91 20 23 12 2C 4D 00

960 FOR J=0x12 TO M:PRINT #0x12,RT$(J)
67 7E C0 03 82 20 4A F0 12 20 CE 20 4D 3A 91 20 23 12 2C 52 54 24 28 4A 29 00

970 NEXT J:CLOSE
71 7E CA 03 83 20 4A 3A C3 00

980 GOTO10
7A 7E D4 03 89 0E 0A 00 00

990 END
80 7E DE 03 81 00

