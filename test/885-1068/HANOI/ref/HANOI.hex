10 :REM \t\tHANOI.BAS
6C 70 0A 00 3A 8F DB 09 09 48 41 4E 4F 49 2E 42 41 53 00

20 :REM \t\tTOWER OF HANOI
84 70 14 00 3A 8F DB 09 09 54 4F 57 45 52 20 4F 46 20 48 41 4E 4F 49 00

30 :REM \t\tWRITTEN 02/24/80 BY WILLIAM C. ZURNEY
B3 70 1E 00 3A 8F DB 09 09 57 52 49 54 54 45 4E 20 30 32 2F 32 34 2F 38 30 20 42 59 20 57 49 4C 4C 49 41 4D 20 43 2E 20 5A 55 52 4E 45 59 00

40 CLEAR 2000:E$=CHR$(27):E1$=E$+"E":F$=E$+"F":G$=E$+"G":P$=E$+"p":Q$=E$+"q"
FA 70 28 00 92 20 1C D0 07 3A 45 24 F0 FF 96 28 0F 1B 29 3A 45 31 24 F0 45 24 F2 22 45 22 3A 46 24 F0 45 24 F2 22 46 22 3A 47 24 F0 45 24 F2 22 47 22 3A 50 24 F0 45 24 F2 22 70 22 3A 51 24 F0 45 24 F2 22 71 22 00

50 WIDTH 255:Y$=E$+"Y":X5$=E$+"x5":Y5$=E$+"y5":K$=E$+"K":H$=E$+"H"
39 71 32 00 A1 20 0F FF 3A 59 24 F0 45 24 F2 22 59 22 3A 58 35 24 F0 45 24 F2 22 78 35 22 3A 59 35 24 F0 45 24 F2 22 79 35 22 3A 4B 24 F0 45 24 F2 22 4B 22 3A 48 24 F0 45 24 F2 22 48 22 00

60 DEFINT A-Z
43 71 3C 00 AE 20 41 F3 5A 00

70 ON ERROR GOTO 970
51 71 46 00 95 20 A8 20 89 20 0E CA 03 00

80 P0=12:DIM H(P0),F(P0),T(P0),U(P0),P6(19),P7(P0,19)
84 71 50 00 50 30 F0 0F 0C 3A 86 20 48 28 50 30 29 2C 46 28 50 30 29 2C 54 28 50 30 29 2C 55 28 50 30 29 2C 50 36 28 13 29 2C 50 37 28 50 30 2C 13 29 00

90 P6(0x11)=12:P6(0x12)=39:P6(0x13)=66
A3 71 5A 00 50 36 28 11 29 F0 0F 0C 3A 50 36 28 12 29 F0 0F 27 3A 50 36 28 13 29 F0 0F 42 00

100 PRINT E1$;:INPUT "ENTER TOTAL NUMBER OF DISKS (1-12)";D
D7 71 64 00 91 20 45 31 24 3B 3A 85 20 22 45 4E 54 45 52 20 54 4F 54 41 4C 20 4E 55 4D 42 45 52 20 4F 46 20 44 49 53 4B 53 20 28 31 2D 31 32 29 22 3B 44 00

110 IF (D>=0x12) AND (D<=P0) THEN 130
F4 71 6E 00 8B 20 28 44 EF F0 12 29 20 F7 20 28 44 F1 F0 50 30 29 20 CF 20 0E 82 00 00

120 PRINT "0x07INVALID TOTAL NUMBER OF DISKS -- REENTER":GOTO 100
2C 72 78 00 91 20 22 07 49 4E 56 41 4C 49 44 20 54 4F 54 41 4C 20 4E 55 4D 42 45 52 20 4F 46 20 44 49 53 4B 53 20 2D 2D 20 52 45 45 4E 54 45 52 22 3A 89 20 0E 64 00 00

130 PRINT "Would you like the computer to play? <N> ";:D1$=INPUT$(0x12)
69 72 82 00 91 20 22 57 6F 75 6C 64 20 79 6F 75 20 6C 69 6B 65 20 74 68 65 20 63 6F 6D 70 75 74 65 72 20 74 6F 20 70 6C 61 79 3F 20 3C 4E 3E 20 22 3B 3A 44 31 24 F0 85 24 28 12 29 00

140 IF D1$="Y" OR D1$="y" THEN D1$="COM"
8D 72 8C 00 8B 20 44 31 24 F0 22 59 22 20 F8 20 44 31 24 F0 22 79 22 20 CF 20 44 31 24 F0 22 43 4F 4D 22 00

150 GOSUB 810
97 72 96 00 8D 20 0E 2A 03 00

160 M1=0x13^D-0x12
A4 72 A0 00 4D 31 F0 13 F6 44 F3 12 00

170 PRINT H$Y5$;
B1 72 AA 00 91 20 48 24 59 35 24 3B 00

180 IF D1$="COM" THEN 200
C7 72 B4 00 8B 20 44 31 24 F0 22 43 4F 4D 22 20 CF 20 0E C8 00 00

190 PRINT "FROM PEG? ";:D1$=INPUT$(0x12)
E5 72 BE 00 91 20 22 46 52 4F 4D 20 50 45 47 3F 20 22 3B 3A 44 31 24 F0 85 24 28 12 29 00

200 PRINT E$"b";
F2 72 C8 00 91 20 45 24 22 62 22 3B 00

210 IF D1$="QUIT" OR D1$="Q" OR D1$="q" THEN 410
1D 73 D2 00 8B 20 44 31 24 F0 22 51 55 49 54 22 20 F8 20 44 31 24 F0 22 51 22 20 F8 20 44 31 24 F0 22 71 22 20 CF 20 0E 9A 01 00

220 IF (Z=0x11) AND (D1$="COM") THEN 420
3D 73 DC 00 8B 20 28 5A F0 11 29 20 F7 20 28 44 31 24 F0 22 43 4F 4D 22 29 20 CF 20 0E A4 01 00

230 Z=0x12
45 73 E6 00 5A F0 12 00

240 IF (D1$<"1") OR (D1$>"3") THEN PRINT "0x07";:GOTO 170
70 73 F0 00 8B 20 28 44 31 24 F1 22 31 22 29 20 F8 20 28 44 31 24 EF 22 33 22 29 20 CF 20 91 20 22 07 22 3B 3A 89 20 0E AA 00 00

250 D1=VAL(D1$)-0x12
81 73 FA 00 44 31 F0 FF 94 28 44 31 24 29 F3 12 00

260 IF P7(0x11,D1)=0x11 THEN PRINT "0x07";:GOTO 170
A1 73 04 01 8B 20 50 37 28 11 2C 44 31 29 F0 11 20 CF 20 91 20 22 07 22 3B 3A 89 20 0E AA 00 00

270 PRINT H$;
AB 73 0E 01 91 20 48 24 3B 00

280 PRINT "TO PEG? ";:D2$=INPUT$(0x12)
C7 73 18 01 91 20 22 54 4F 20 50 45 47 3F 20 22 3B 3A 44 32 24 F0 85 24 28 12 29 00

290 PRINT E$"b";
D4 73 22 01 91 20 45 24 22 62 22 3B 00

300 IF (D2$<"1") OR (D2$>"3") THEN PRINT "0x07";:GOTO 270
FF 73 2C 01 8B 20 28 44 32 24 F1 22 31 22 29 20 F8 20 28 44 32 24 EF 22 33 22 29 20 CF 20 91 20 22 07 22 3B 3A 89 20 0E 0E 01 00

310 D2=VAL(D2$)-0x12
10 74 36 01 44 32 F0 FF 94 28 44 32 24 29 F3 12 00

320 IF P7(0x11,D2)=0x11 THEN 340
27 74 40 01 8B 20 50 37 28 11 2C 44 32 29 F0 11 20 CF 20 0E 54 01 00

330 IF P7(P7(0x11,D1),D1)>P7(P7(0x11,D2),D2) THEN PRINT "0x07";:GOTO 170
5C 74 4A 01 8B 20 50 37 28 50 37 28 11 2C 44 31 29 2C 44 31 29 EF 50 37 28 50 37 28 11 2C 44 32 29 2C 44 32 29 20 CF 20 91 20 22 07 22 3B 3A 89 20 0E AA 00 00

340 PRINT X5$;
67 74 54 01 91 20 58 35 24 3B 00

350 GOSUB 560
71 74 5E 01 8D 20 0E 30 02 00

360 IF (P7(0x11,0x11)<>0x11) OR (P7(0x11,0x12)<>0x11) THEN 170
99 74 68 01 8B 20 28 50 37 28 11 2C 11 29 F1 EF 11 29 20 F8 20 28 50 37 28 11 2C 12 29 F1 EF 11 29 20 CF 20 0E AA 00 00

370 PRINT H$Y5$;
A6 74 72 01 91 20 48 24 59 35 24 3B 00

380 PRINT "CONGRATULATIONS -- IT TOOK YOU ";M;" MOVES"
D9 74 7C 01 91 20 22 43 4F 4E 47 52 41 54 55 4C 41 54 49 4F 4E 53 20 2D 2D 20 49 54 20 54 4F 4F 4B 20 59 4F 55 20 22 3B 4D 3B 22 20 4D 4F 56 45 53 22 00

390 IF M<>M1 THEN PRINT "MINIMUM NUMBER OF MOVES WOULD HAVE BEEN";M1
16 75 86 01 8B 20 4D F1 EF 4D 31 20 CF 20 91 20 22 4D 49 4E 49 4D 55 4D 20 4E 55 4D 42 45 52 20 4F 46 20 4D 4F 56 45 53 20 57 4F 55 4C 44 20 48 41 56 45 20 42 45 45 4E 22 3B 4D 31 00

400 PRINT "PRESS ANY KEY WHEN FINISHED LOOKING. ";:X$=INPUT$(0x12)
4E 75 90 01 91 20 22 50 52 45 53 53 20 41 4E 59 20 4B 45 59 20 57 48 45 4E 20 46 49 4E 49 53 48 45 44 20 4C 4F 4F 4B 49 4E 47 2E 20 22 3B 3A 58 24 F0 85 24 28 12 29 00

410 GOSUB 950:END
5A 75 9A 01 8D 20 0E B6 03 3A 81 00

420 :REM \t\tAUTO
68 75 A4 01 3A 8F DB 09 09 41 55 54 4F 00

430 PRINT X5$;
73 75 AE 01 91 20 58 35 24 3B 00

440 P=0x11:H(0x11)=D:F(0x11)=0x11:T(0x11)=0x13:U(0x11)=0x12
97 75 B8 01 50 F0 11 3A 48 28 11 29 F0 44 3A 46 28 11 29 F0 11 3A 54 28 11 29 F0 13 3A 55 28 11 29 F0 12 00

450 GOSUB 470
A1 75 C2 01 8D 20 0E D6 01 00

460 GOTO 370
AB 75 CC 01 89 20 0E 72 01 00

470 :REM \t\tMOVE TOWER SUBROUTINE
CA 75 D6 01 3A 8F DB 09 09 4D 4F 56 45 20 54 4F 57 45 52 20 53 55 42 52 4F 55 54 49 4E 45 00

480 IF H(P)<=0x11 THEN 540
DE 75 E0 01 8B 20 48 28 50 29 F1 F0 11 20 CF 20 0E 1C 02 00

490 P1=P+0x12:H(P1)=H(P)-0x12:F(P1)=F(P):T(P1)=U(P):U(P1)=T(P)
17 76 EA 01 50 31 F0 50 F2 12 3A 48 28 50 31 29 F0 48 28 50 29 F3 12 3A 46 28 50 31 29 F0 46 28 50 29 3A 54 28 50 31 29 F0 55 28 50 29 3A 55 28 50 31 29 F0 54 28 50 29 00

500 P=P1:GOSUB 470
26 76 F4 01 50 F0 50 31 3A 8D 20 0E D6 01 00

510 D1=F(P):D2=T(P):GOSUB 560
40 76 FE 01 44 31 F0 46 28 50 29 3A 44 32 F0 54 28 50 29 3A 8D 20 0E 30 02 00

520 P1=P+0x12:H(P1)=H(P)-0x12:F(P1)=U(P):T(P1)=T(P):U(P1)=F(P)
79 76 08 02 50 31 F0 50 F2 12 3A 48 28 50 31 29 F0 48 28 50 29 F3 12 3A 46 28 50 31 29 F0 55 28 50 29 3A 54 28 50 31 29 F0 54 28 50 29 3A 55 28 50 31 29 F0 46 28 50 29 00

530 P=P1:GOSUB 470
88 76 12 02 50 F0 50 31 3A 8D 20 0E D6 01 00

540 P=P-0x12
92 76 1C 02 50 F0 50 F3 12 00

550 RETURN
98 76 26 02 8E 00

560 :REM \t\tMOVE DISK
AB 76 30 02 3A 8F DB 09 09 4D 4F 56 45 20 44 49 53 4B 00

570 M=M+0x12
B5 76 3A 02 4D F0 4D F2 12 00

580 X1=P7(0x11,D1):X2=P6(D1):X3=P7(X1,D1):P7(0x11,D1)=X1-0x12
EA 76 44 02 58 31 F0 50 37 28 11 2C 44 31 29 3A 58 32 F0 50 36 28 44 31 29 3A 58 33 F0 50 37 28 58 31 2C 44 31 29 3A 50 37 28 11 2C 44 31 29 F0 58 31 F3 12 00

590 FOR I=X1 TO D+0x14
FB 76 4E 02 82 20 49 F0 58 31 20 CE 20 44 F2 14 00

600 X1=I:GOSUB 890
0A 77 58 02 58 31 F0 49 3A 8D 20 0E 7A 03 00

610 X1=I+0x12:GOSUB 930
1B 77 62 02 58 31 F0 49 F2 12 3A 8D 20 0E A2 03 00

620 NEXT I
23 77 6C 02 83 20 49 00

630 IF (D2-D1)=0x11 THEN 750
39 77 76 02 8B 20 28 44 32 F3 44 31 29 F0 11 20 CF 20 0E EE 02 00

640 PRINT Y$CHR$(55-D-0x15)" ";
50 77 80 02 91 20 59 24 FF 96 28 0F 37 F3 44 F3 15 29 22 20 22 3B 00

650 IF (D2-D1)<0x11 THEN 720
66 77 8A 02 8B 20 28 44 32 F3 44 31 29 F1 11 20 CF 20 0E D0 02 00

660 PRINT E$CHR$(64);
76 77 94 02 91 20 45 24 FF 96 28 0F 40 29 3B 00

670 FOR I=0x12 TO P6(D2)-P6(D1)
90 77 9E 02 82 20 49 F0 12 20 CE 20 50 36 28 44 32 29 F3 50 36 28 44 31 29 00

680 PRINT " ";:FOR I0=0x12 TO 0x16:NEXT I0
AB 77 A8 02 91 20 22 20 22 3B 3A 82 20 49 30 F0 12 20 CE 20 16 3A 83 20 49 30 00

690 NEXT I
B3 77 B2 02 83 20 49 00

700 PRINT E$"O";
C0 77 BC 02 91 20 45 24 22 4F 22 3B 00

710 GOTO 750
CA 77 C6 02 89 20 0E EE 02 00

720 FOR I=0x12 TO P6(D1)-P6(D2)
E4 77 D0 02 82 20 49 F0 12 20 CE 20 50 36 28 44 31 29 F3 50 36 28 44 32 29 00

730 PRINT E$"N";:FOR I0=0x12 TO 0x16:NEXT I0
01 78 DA 02 91 20 45 24 22 4E 22 3B 3A 82 20 49 30 F0 12 20 CE 20 16 3A 83 20 49 30 00

740 NEXT I
09 78 E4 02 83 20 49 00

750 X1=P7(0x11,D2)+0x12:P7(0x11,D2)=X1:P7(X1,D2)=X3:X2=P6(D2)
3E 78 EE 02 58 31 F0 50 37 28 11 2C 44 32 29 F2 12 3A 50 37 28 11 2C 44 32 29 F0 58 31 3A 50 37 28 58 31 2C 44 32 29 F0 58 33 3A 58 32 F0 50 36 28 44 32 29 00

760 FOR I=D+0x14 TO X1 STEP -0x12
54 78 F8 02 82 20 49 F0 44 F2 14 20 CE 20 58 31 20 D1 20 F3 12 00

770 X1=I+0x12:GOSUB 890
65 78 02 03 58 31 F0 49 F2 12 3A 8D 20 0E 7A 03 00

780 X1=I:GOSUB 930
74 78 0C 03 58 31 F0 49 3A 8D 20 0E A2 03 00

790 NEXT I
7C 78 16 03 83 20 49 00

800 RETURN
82 78 20 03 8E 00

810 :REM \t\tINIT TOWERS
97 78 2A 03 3A 8F DB 09 09 49 4E 49 54 20 54 4F 57 45 52 53 00

820 PRINT E1$F$X5$;
A7 78 34 03 91 20 45 31 24 46 24 58 35 24 3B 00

830 X3=0x11
B0 78 3E 03 58 33 F0 11 00

840 FOR J=0x11 TO 0x13:X2=P6(J):FOR X1=0x12 TO D+0x12:GOSUB 890:NEXT X1:NEXT J
E3 78 48 03 82 20 4A F0 11 20 CE 20 13 3A 58 32 F0 50 36 28 4A 29 3A 82 20 58 31 F0 12 20 CE 20 44 F2 12 3A 8D 20 0E 7A 03 3A 83 20 58 31 3A 83 20 4A 00

850 PRINT Y$"7 "STRING$(79,ASC("i"));
FE 78 52 03 91 20 59 24 22 37 20 22 D8 28 0F 4F 2C FF 95 28 22 69 22 29 29 3B 00

860 FOR I=0x11 TO 0x13:PRINT Y$"7"CHR$(32+P6(I))CHR$(ASC("1")+I);:NEXT I
32 79 5C 03 82 20 49 F0 11 20 CE 20 13 3A 91 20 59 24 22 37 22 FF 96 28 0F 20 F2 50 36 28 49 29 29 FF 96 28 FF 95 28 22 31 22 29 F2 49 29 3B 3A 83 20 49 00

870 X2=P6(0x11):X3=D+0x12:P7(0x11,0x11)=D
50 79 66 03 58 32 F0 50 36 28 11 29 3A 58 33 F0 44 F2 12 3A 50 37 28 11 2C 11 29 F0 44 00

880 FOR X1=0x12 TO D:X3=X3-0x12:P7(X1,0x11)=X3:GOSUB 930:NEXT X1:PRINT H$;:RETURN
86 79 70 03 82 20 58 31 F0 12 20 CE 20 44 3A 58 33 F0 58 33 F3 12 3A 50 37 28 58 31 2C 11 29 F0 58 33 3A 8D 20 0E A2 03 3A 83 20 58 31 3A 91 20 48 24 3B 3A 8E 00

890 :REM \t\tERASE DISK
9A 79 7A 03 3A 8F DB 09 09 45 52 41 53 45 20 44 49 53 4B 00

900 PRINT Y$CHR$(55-X1)CHR$(32+X2-X3)STRING$(0x13*X3+0x12,32);
C5 79 84 03 91 20 59 24 FF 96 28 0F 37 F3 58 31 29 FF 96 28 0F 20 F2 58 32 F3 58 33 29 D8 28 13 F4 58 33 F2 12 2C 0F 20 29 3B 00

910 IF X1<=D+0x12 THEN PRINT Y$CHR$(55-X1)CHR$(32+X2)"`";
F0 79 8E 03 8B 20 58 31 F1 F0 44 F2 12 20 CF 20 91 20 59 24 FF 96 28 0F 37 F3 58 31 29 FF 96 28 0F 20 F2 58 32 29 22 60 22 3B 00

920 RETURN
F6 79 98 03 8E 00

930 :REM \t\tDRAW DISK
09 7A A2 03 3A 8F DB 09 09 44 52 41 57 20 44 49 53 4B 00

940 PRINT Y$CHR$(55-X1)CHR$(32+X2-X3);P$STRING$(X3*0x13+0x12,122)Q$;:RETURN
3B 7A AC 03 91 20 59 24 FF 96 28 0F 37 F3 58 31 29 FF 96 28 0F 20 F2 58 32 F3 58 33 29 3B 50 24 D8 28 58 33 F4 13 F2 12 2C 0F 7A 29 51 24 3B 3A 8E 00

950 :REM \t\tRESET TERMINAL
53 7A B6 03 3A 8F DB 09 09 52 45 53 45 54 20 54 45 52 4D 49 4E 41 4C 00

960 PRINT E$"z";:FOR 0x12 TO 100:NEXT J:RETURN
6F 7A C0 03 91 20 45 24 22 7A 22 3B 3A 82 20 12 20 CE 20 0F 64 3A 83 20 4A 3A 8E 00

970 :REM \t\tERROR HANDLER
86 7A CA 03 3A 8F DB 09 09 45 52 52 4F 52 20 48 41 4E 44 4C 45 52 00

980 GOSUB 950
90 7A D4 03 8D 20 0E B6 03 00

990 ON ERROR GOTO 0
9E 7A DE 03 95 20 A8 20 89 20 0E 00 00 00

